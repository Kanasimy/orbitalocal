(function(a){a.HSCore.components.HSProgressBar={_baseConfig:{bounds:-100,debounce:10,time:1000,fps:60,rtl:false,direction:"horizontal",useProgressElement:false,indicatorSelector:"progress-bar-indicator",moveElementSelector:false,moveElementTo:"currentPosition",onChange:function(b){},beforeUpdate:function(){},afterUpdate:function(){},onMoveElementChange:function(b){},beforeMoveElementUpdate:function(){},afterMoveElementUpdate:function(){}},_pageCollection:a(),init:function(b,c){if(!(b&&a(b).length)){return}this.extendHorizontalProgressBar();this.extendVerticalProgressBar();return this._initProgressBar(b,c&&a.isPlainObject(c)?a.extend(true,{},this._baseConfig,c):this._baseConfig)},_initProgressBar:function(b,d){var c=this,e=a();appear({bounds:d.bounds,debounce:d.debounce,init:function(){a(b).each(function(f,g){var h=a(g);if(d.direction==="horizontal"){h.data("ProgressBar",new c.HorizontalProgressBar(h,d))}else{h.data("ProgressBar",new c.VerticalProgressBar(h,d))}e=e.add(h);c._pageCollection=c._pageCollection.add(h)})},elements:function(){return document.querySelectorAll(b)},appear:function(f){a(f).data("ProgressBar").update(a(f).data("value"))}});return e},HorizontalProgressBar:function(c,b){this.element=c;this.indicator=this.element.find(b.indicatorSelector);this.config=b;this.moveElement=b.moveElementSelector?c.parent().find(b.moveElementSelector):a();if(this.moveElement.length){if(b.rtl){this.moveElement.css({left:"auto",right:0,"margin-right":this.moveElement.outerWidth()/-2})}else{this.moveElement.css({left:0,"margin-left":this.moveElement.outerWidth()/-2})}}if(this.config.useProgressElement){this.element.data("value",this.element.attr("value"));this.element.attr("value",0)}else{this.element.data("value",this.indicator.length?Math.round(this.indicator.outerWidth()/this.element.outerWidth()*100):0);this.indicator.css("width","0%")}},VerticalProgressBar:function(c,b){this.element=c;this.config=b;this.indicator=c.find(b.indicatorSelector);if(!this.indicator.length){return}c.data("value",parseInt(this.indicator.css("height"),10)/this.indicator.parent().outerHeight()*100);this.indicator.css("height",0)},extendHorizontalProgressBar:function(){this.HorizontalProgressBar.prototype.update=function(f){var e=this;if(this.config.useProgressElement){var h=(this.config.time/this.config.fps),d=parseInt(f/h,10),c=0,e=this;if(d==0){d=1}this.config.beforeUpdate.call(this.element);if(this.moveElement.length){this.config.beforeMoveElementUpdate.call(this.moveElement)}if(e.config.moveElementSelector&&e.config.moveElementTo=="end"){var b=0,i=parseInt(100/h,10);if(i==0){i=1}var g=setInterval(function(){e.moveSubElement(b+=i);if(e.moveElement.length){e.config.onMoveElementChange.call(e.moveElement,b+=i)}if(b>100){clearInterval(g);e.moveSubElement(100);if(e.moveElement.length){e.config.afterMoveElementUpdate.call(e.moveElement)}}},h)}this.element.data("intervalId",setInterval(function(){var j=c+=d;e.element.attr("value",j);e.config.onChange.call(e.element,j);if(e.config.moveElementSelector&&e.config.moveElementTo=="currentPosition"){e.moveSubElement(j)}if(c>f){e.element.attr("value",f);if(e.config.moveElementSelector&&e.config.moveElementTo=="currentPosition"){e.moveSubElement(f)}clearInterval(e.element.data("intervalId"));e.config.afterUpdate.call(e.element)}},h))}else{if(this.indicator.length){this.indicator.stop().animate({width:f+"%"},{duration:e.config.time,complete:function(){e.config.afterUpdate.call(e.element)}})}}};this.HorizontalProgressBar.prototype.moveSubElement=function(c,d){if(!this.moveElement.length){return}var b=this;this.moveElement.css(this.config.rtl?"right":"left",c+"%")}},extendVerticalProgressBar:function(){this.VerticalProgressBar.prototype.update=function(b){this.indicator.stop().animate({height:b+"%"})}},get:function(){return this._pageCollection},getAPI:function(b){if(this._pageCollection.eq(b).length){return this._pageCollection.eq(b).data("ProgressBar")}return null}}})(jQuery);