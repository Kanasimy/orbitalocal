(function(a){a.HSCore.components.HSChartPie={_baseConfig:{bounds:-100,debounce:10,rtl:false,wrpClass:"circles-wrp",textClass:"circles-text",valueStrokeClass:"circles-valueStroke",maxValueStrokeClass:"circles-maxValueStroke",styleWrapper:true,styleText:true},pageCollection:a(),appearCollectionIds:[],init:function(b,c){this.collection=b&&a(b).length?a(b):a();if(!a(b).length){return}this.config=c&&a.isPlainObject(c)?a.extend({},this._baseConfig,c):this._baseConfig;this.config.itemSelector=b;this.initCircles();return this.pageCollection},initCircles:function(){var c=this.pageCollection.last(),d=0,b=this;if(c.length){d=+c.attr("id").substring(c.attr("id").lastIndexOf("-")+1)}this.collection.each(function(e,f){var j=a(f),k="hs-pie-"+(d+(e+1)),g=0;j.attr("id",k);if(!j.data("circles-scroll-animate")){g=j.data("circles-value")||0}else{j.data("reminded-value",j.data("circles-value")||0);b.appearCollectionIds.push("#"+k)}var h=Circles.create({id:k,radius:j.data("circles-radius")||80,value:g,maxValue:j.data("circles-max-value")||100,width:j.data("circles-stroke-width")||10,text:function(i){if(j.data("circles-type")=="iconic"){return j.data("circles-icon")}else{return i+(j.data("circles-additional-text")||"")}},colors:[j.data("circles-bg-color")||"#72c02c",j.data("circles-fg-color")||"#eeeeee"],duration:j.data("circles-duration")||1000,wrpClass:b.config.wrpClass,textClass:b.config.textClass,valueStrokeClass:b.config.valueStrokeClass,maxValueStrokeClass:b.config.maxValueStrokeClass,styleWrapper:b.config.styleWrapper,styleText:b.config.styleText});j.data("circle",h);j.find("."+b.config.textClass).css({"font-size":j.data("circles-font-size"),"font-weight":j.data("circles-font-weight"),color:j.data("circles-color")});if(b.config.rtl){j.find("svg").css("transform","matrix(-1, 0, 0, 1, 0, 0)")}b.pageCollection=b.pageCollection.add(j)});if(b.appearCollectionIds.length){b._initAppear()}},_initAppear:function(){var b=this;appear({bounds:b.config.bounds,debounce:b.config.debounce,elements:function(){return document.querySelectorAll(b.appearCollectionIds.join(","))},appear:function(c){c=a(c);c.data("circle").update(c.data("reminded-value"))}})},get:function(b){if(b&&a.isNumeric(b)){return this.pageCollection.eq(b)}return this.pageCollection},getById:function(b){if(b&&this.pageCollection.filter("#"+b).length){return this.pageCollection.filter("#"+b)}return null},getCircleAPI:function(b){if(b&&a.isNumeric(b)&&this.pageCollection.eq(b).length){return this.pageCollection.eq(b).data("circle")}return null},getCircleAPIById:function(b){if(b&&this.pageCollection.filter("#"+b).length){return this.pageCollection.filter("#"+b).data("circle")}return null}}})(jQuery);